<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

	<modelVersion>4.0.0</modelVersion>

	<artifactId>blva-parent</artifactId>
	<name>bleusiel BLV Atelier back</name>
	<packaging>pom</packaging>
	<version>10.0.5-SNAPSHOT</version>

	<parent>
		<groupId>ch.vd.institutions.siel</groupId>
		<artifactId>shared-parent</artifactId>
		<version>10.0.2</version>
		<relativePath />
	</parent>

	<description>[BLVA] SIEL BLV Atelier - parent POM</description>

	<modules>
		<module>blva-web</module>
		<module>blva-web-back</module>
		<module>blva-application</module>
		<module>blva-domain</module>
		<module>blva-infrastructure</module>
		<module>blva-test-chargement</module>
		<module>blva-migration-chargement</module>
		<module>blva-batches</module>
	</modules>

	<properties>
		<maven.deploy.skip>true</maven.deploy.skip>
		<!-- See properties defined in environnement-xx/maven/settings.xml -->
		<!-- Properties to define on command line: -->
		<!-- - bleusiel.it.configuration -->
		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
		<webdriver.driver>chrome</webdriver.driver>

		<sonar.cpd.exclusions>**/mock/**,**/dto/**,**/entity/**,**/mapper/**,**/interfaces/**,**/baselegale/model/Q**,**/baselegale/model/builder/**,**/ContainerSetter.java,**/EntityWalker.java,**/domain/model/*.java,**/migration/**,**/generated/**</sonar.cpd.exclusions>
		<sonar.coverage.exclusions>**/migration/**,**/mock/**,**/dto/**,**/siel/blva/loader/**,**/siel/blva/configuration/**,**/dto/**,**/mock/**,**/mdcgen/shared/entity/**,**/mdcgen/shared/mapper/**,**/siel/blva/batch/**,**/siel/blva/maintenant/**,**/service/generated/mapper/**</sonar.coverage.exclusions>

		<sonar.projectKey>prj-ev-bleusiel:blv-atelier-back</sonar.projectKey>
		<sonar.moduleKey>${project.artifactId}</sonar.moduleKey>
        <jakarta.annotation-api.version>1.3.5</jakarta.annotation-api.version>
	</properties>

	<dependencyManagement>
		<dependencies>
			<dependency>
				<groupId>ch.vd.institutions.siel</groupId>
				<artifactId>blva-domain</artifactId>
				<version>${project.version}</version>
			</dependency>
			<dependency>
				<groupId>ch.vd.institutions.siel</groupId>
				<artifactId>blva-infrastructure</artifactId>
				<version>${project.version}</version>
			</dependency>
			<dependency>
				<groupId>ch.vd.institutions.siel</groupId>
				<artifactId>blva-infrastructure</artifactId>
				<version>${project.version}</version>
				<type>test-jar</type>
				<scope>test</scope>
			</dependency>
			<dependency>
				<groupId>ch.vd.institutions.siel</groupId>
				<artifactId>blva-application</artifactId>
				<version>${project.version}</version>
			</dependency>
			<dependency>
				<groupId>ch.vd.institutions.siel</groupId>
				<artifactId>blva-web-back</artifactId>
				<version>${project.version}</version>
			</dependency>
			<dependency>
				<groupId>ch.vd.institutions.siel</groupId>
				<artifactId>blva-batches</artifactId>
				<version>${project.version}</version>
			</dependency>
			<dependency>
				<groupId>ch.vd.institutions.siel</groupId>
				<artifactId>shared-alfresco-client</artifactId>
				<version>${shared.version}</version>
			</dependency>
			<dependency>
				<groupId>ch.vd.institutions.siel</groupId>
				<artifactId>shared-querydsl-generator</artifactId>
				<version>${shared.version}</version>
			</dependency>
			<!-- Spring -->
			<!-- Spring Fox + Swagger -->
			<dependency>
				<groupId>io.springfox</groupId>
				<artifactId>springfox-swagger2</artifactId>
				<version>${springfox.version}</version>
				<exclusions>
					<exclusion>
						<groupId>com.fasterxml.jackson.core</groupId>
						<artifactId>jackson-annotations</artifactId>
					</exclusion>
				</exclusions>
			</dependency>
			<dependency>
				<groupId>io.springfox</groupId>
				<artifactId>springfox-swagger-ui</artifactId>
				<version>${springfox.version}</version>
			</dependency>
			<dependency>
				<groupId>org.aspectj</groupId>
				<artifactId>aspectjweaver</artifactId>
				<version>${aspectj.version}</version>
			</dependency>
			<!-- Hibernate -->
			<dependency>
				<!-- Core Library used by batch job to override Spring Boot default Hibernate 
					core 5.0.12 -->
				<groupId>org.hibernate</groupId>
				<artifactId>hibernate-core</artifactId>
				<version>${hibernate.version}</version>
			</dependency>
			<dependency>
				<groupId>org.hibernate</groupId>
				<artifactId>hibernate-entitymanager</artifactId>
				<version>${hibernate.version}</version>
			</dependency>
			<dependency>
				<groupId>org.hibernate</groupId>
				<artifactId>hibernate-java8</artifactId>
				<version>${hibernate.version}</version>
			</dependency>
			<dependency>
				<groupId>org.hibernate.validator</groupId>
				<artifactId>hibernate-validator</artifactId>
				<version>${hibernate-validator.version}</version>
			</dependency>

			<!-- ESB client -->
			<dependency>
				<groupId>ch.vd.technical.esb</groupId>
				<artifactId>esb-validation</artifactId>
				<version>${esb-validation.version}</version>
			</dependency>
			<dependency>
				<groupId>ch.vd.technical.esb</groupId>
				<artifactId>esb-client</artifactId>
				<version>${esb-client.version}</version>
			</dependency>
			<dependency>
				<groupId>ch.vd.technical.esb</groupId>
				<artifactId>esb-client-test</artifactId>
				<version>${esb-client.version}</version>
			</dependency>
			<!-- Active MQ -->
			<dependency>
				<groupId>org.apache.activemq</groupId>
				<artifactId>activemq-ra</artifactId>
				<version>${activemq.version}</version>
			</dependency>

			<!-- Library for generate AKN XML to HTML -->
			<dependency>
				<groupId>org.freemarker</groupId>
				<artifactId>freemarker</artifactId>
				<version>${freemarker.version}</version>
			</dependency>
			<!-- validation -->
			<dependency>
				<groupId>javax.validation</groupId>
				<artifactId>validation-api</artifactId>
				<version>${javax-validation.version}</version>
			</dependency>
			<dependency>
				<groupId>javax.servlet</groupId>
				<artifactId>javax.servlet-api</artifactId>
				<version>3.1.0</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>com.atomikos</groupId>
				<artifactId>transactions-jdbc</artifactId>
				<version>${atomikos.version}</version>
			</dependency>
			<dependency>
				<groupId>com.atomikos</groupId>
				<artifactId>transactions-jta</artifactId>
				<version>${atomikos.version}</version>
			</dependency>
			<dependency>
				<groupId>com.atomikos</groupId>
				<artifactId>transactions-api</artifactId>
				<version>${atomikos.version}</version>
			</dependency>
			<dependency>
				<groupId>com.atomikos</groupId>
				<artifactId>transactions-hibernate4</artifactId>
				<version>${atomikos.version}</version>
			</dependency>
			<dependency>
				<groupId>com.atomikos</groupId>
				<artifactId>transactions</artifactId>
				<version>${atomikos.version}</version>
			</dependency>
			<dependency>
				<groupId>com.atomikos</groupId>
				<artifactId>transactions-jms</artifactId>
				<version>${atomikos.version}</version>
			</dependency>
			<!-- Apache Commons -->
			<dependency>
				<groupId>org.apache.commons</groupId>
				<artifactId>commons-lang3</artifactId>
				<version>${commons-lang3.version}</version>
			</dependency>
			<dependency>
				<groupId>com.google.guava</groupId>
				<artifactId>guava</artifactId>
				<version>${guava.version}</version>
			</dependency>
			<dependency>
				<groupId>org.apache.pdfbox</groupId>
				<artifactId>pdfbox</artifactId>
				<version>${pdfbox.version}</version>
			</dependency>
			<!-- Aspose library -->
			<dependency>
				<groupId>com.aspose</groupId>
				<artifactId>aspose-words</artifactId>
				<version>${aspose.word}</version>
				<classifier>jdk17</classifier>
			</dependency>

			<!-- Test -->
			<dependency>
				<groupId>net.serenity-bdd</groupId>
				<artifactId>serenity-core</artifactId>
				<version>${serenity.version}</version>
				<scope>test</scope>
			</dependency>
			<dependency>
				<groupId>org.mockito</groupId>
				<artifactId>mockito-core</artifactId>
				<version>${mockito.version}</version>
				<scope>test</scope>
			</dependency>
			<dependency>
				<groupId>net.serenity-bdd</groupId>
				<artifactId>serenity-cucumber</artifactId>
				<version>${serenity.cucumber.version}</version>
				<scope>test</scope>
			</dependency>
			<dependency>
				<groupId>net.serenity-bdd</groupId>
				<artifactId>serenity-spring</artifactId>
				<version>1.2.2</version>
				<scope>test</scope>
			</dependency>

			<dependency>
				<groupId>com.ximpleware</groupId>
				<artifactId>vtd-xml</artifactId>
				<version>${vtd-xml.version}</version>
			</dependency>
			<dependency>
				<groupId>com.thoughtworks.xstream</groupId>
				<artifactId>xstream</artifactId>
				<version>${xstream.version}</version>
				<exclusions>
					<exclusion>
						<groupId>xmlpull</groupId>
						<artifactId>xmlpull</artifactId>
					</exclusion>
					<exclusion>
						<groupId>xpp3</groupId>
						<artifactId>xpp3_min</artifactId>
					</exclusion>
				</exclusions>
			</dependency>
            <!-- https://mvnrepository.com/artifact/jakarta.annotation/jakarta.annotation-api -->
            <dependency>
                <groupId>jakarta.annotation</groupId>
                <artifactId>jakarta.annotation-api</artifactId>
                <version>${jakarta.annotation-api.version}</version>
            </dependency>
        </dependencies>
	</dependencyManagement>

	<build>
		<pluginManagement>
			<plugins>
				<plugin>
					<artifactId>maven-failsafe-plugin</artifactId>
					<configuration>
						<includes>
							<include>**/bdd/**/*.java</include>
							<include>**/it/**/*.java</include>
						</includes>
						<reuseForks>false</reuseForks>
					</configuration>
				</plugin>
			</plugins>
		</pluginManagement>
		<plugins>
			<plugin>
				<!-- Run all simple test define in UT package. -->
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-surefire-plugin</artifactId>
			</plugin>
			<!-- MAVEN PLUGINS -->
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
				<configuration>
					<source>${java.version}</source>
					<target>${java.version}</target>
					<annotationProcessorPaths>
						<path>
							<groupId>org.mapstruct</groupId>
							<artifactId>mapstruct-processor</artifactId>
							<version>${mapstruct.version}</version>
						</path>
					</annotationProcessorPaths>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-source-plugin</artifactId>
				<executions>
					<execution>
						<id>attach-sources</id>
						<goals>
							<goal>jar</goal>
						</goals>
					</execution>
				</executions>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-javadoc-plugin</artifactId>
			</plugin>

			<plugin>
				<groupId>net.serenity-bdd.maven.plugins</groupId>
				<artifactId>serenity-maven-plugin</artifactId>
				<version>${serenity.version}</version>
				<dependencies>
					<dependency>
						<groupId>net.serenity-bdd</groupId>
						<artifactId>serenity-core</artifactId>
						<version>${serenity.version}</version>
					</dependency>
				</dependencies>
				<executions>
					<execution>
						<id>serenity-reports</id>
						<phase>post-integration-test</phase>
						<goals>
							<goal>aggregate</goal>
						</goals>
					</execution>
				</executions>
			</plugin>
		</plugins>
	</build>
</project>
