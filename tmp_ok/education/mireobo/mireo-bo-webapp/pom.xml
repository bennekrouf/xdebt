<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">

    <modelVersion>4.0.0</modelVersion>

    <!-- =======================================================================
    = PARENT
    ======================================================================== -->
    <parent>
        <groupId>ch.vd.education.mireo.bo</groupId>
        <artifactId>mireo-bo</artifactId>
        <version>1.0.1-SNAPSHOT</version>
    </parent>

    <!-- =======================================================================
    = PROJECT
    ======================================================================== -->
    <artifactId>mireo-bo-webapp</artifactId>
    <name>MIREO-BO (webapp)</name>

    <!-- =======================================================================
    = PROPERTIES
    ======================================================================== -->
    <properties>
        <!-- START - PROJECT DEPENDENCIES VERSION -->
        <!-- END   - PROJECT DEPENDENCIES VERSION -->

        <!-- START - SUPER POM TOGGLE -->
        <super.deploy.enabled>false</super.deploy.enabled>
        <super.pitest.enabled>false</super.pitest.enabled>
        <super.owasp.false.positive.file>${project.basedir}/../owasp-false-positive.xml</super.owasp.false.positive.file>
        <maven-checkstyle-plugin.enabled>false</maven-checkstyle-plugin.enabled>
        <maven-checkstyle-plugin.configLocation>${project.basedir}/../checkstyle-rules.xml</maven-checkstyle-plugin.configLocation>
        <super.bdd.test />
        <super.springboot.skip>false</super.springboot.skip>
        <super.devex.enabled />
        <inugami.maven.plugin.analysis.display.release.note.enabled />
        <super.assembly.enabled />
        <maven.source.skip>true</maven.source.skip>
        <!-- END   - SUPER POM TOGGLE -->

        <!-- START - OTHER -->
        <target.classes>${project.build.directory}/classes</target.classes>
        <target.classes.publicOrStatic>public</target.classes.publicOrStatic>
        <static.final.outputDirectory>static</static.final.outputDirectory>
        <!-- END   - OTHER -->
    </properties>

    <!-- =======================================================================
    = MODULES
    ======================================================================== -->

    <!-- =======================================================================
    = DEPENDENCY MANAGEMENT
    ======================================================================== -->

    <!-- =======================================================================
    = DEPENDENCIES
    ======================================================================== -->
    <dependencies>
        <dependency>
            <groupId>ch.vd.education.mireo.bo</groupId>
            <artifactId>mireo-bo-api</artifactId>
        </dependency>

        <dependency>
            <groupId>ch.vd.education.mireo.bo</groupId>
            <artifactId>mireo-bo-commons</artifactId>
        </dependency>

        <dependency>
            <groupId>ch.vd.education.mireo.bo</groupId>
            <artifactId>mireo-bo-core</artifactId>
        </dependency>

        <dependency>
            <groupId>ch.vd.education.mireo.bo</groupId>
            <artifactId>mireo-bo-infrastructure</artifactId>
        </dependency>

        <dependency>
            <groupId>ch.vd.education.mireo.bo</groupId>
            <artifactId>mireo-bo-interface</artifactId>
        </dependency>

        <dependency>
            <groupId>io.inugami.monitoring</groupId>
            <artifactId>inugami_monitoring_springboot</artifactId>
        </dependency>

        <dependency>
            <groupId>io.inugami</groupId>
            <artifactId>inugami_logs_obfuscator</artifactId>
        </dependency>

        <dependency>
            <groupId>io.inugami.maven.plugin.analysis</groupId>
            <artifactId>inugami-project-analysis-maven-plugin-annotations</artifactId>
        </dependency>

        <dependency>
            <groupId>io.inugami.maven.plugin.analysis.front</groupId>
            <artifactId>inugami-project-analysis-front-springboot</artifactId>
        </dependency>

        <dependency>
            <groupId>ch.vd.devsupport</groupId>
            <artifactId>vd-spring-boot-starter</artifactId>
        </dependency>

        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>

        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-security</artifactId>
        </dependency>

        <!-- TESTING -->
        <dependency>
            <groupId>io.inugami</groupId>
            <artifactId>inugami_commons_test</artifactId>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>ch.vd.education.metedu.commons</groupId>
            <artifactId>metedu-commons-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <!-- =======================================================================
    = BUILD
    ======================================================================== -->
    <build>
        <resources>
            <resource>
                <directory>src/main/resources</directory>
                <filtering>true</filtering>
            </resource>
        </resources>

        <testResources>
            <testResource>
                <directory>src/test/resources</directory>
                <filtering>true</filtering>
            </testResource>
            <testResource>
                <directory>src/test_it/resources</directory>
                <filtering>true</filtering>
            </testResource>
        </testResources>
    </build>

    <!-- =======================================================================
    = PROFILES
    ======================================================================== -->
    <profiles>
        <profile>
            <id>nexus</id>
            <properties>
                <assembly.finalName>${project.artifactId}-${project.version}</assembly.finalName>
                <super.deploy.enabled />
            </properties>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-install-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>default-install</id>
                                <phase>none</phase>
                            </execution>
                        </executions>
                    </plugin>

                    <plugin>
                        <artifactId>maven-clean-plugin</artifactId>
                        <executions>
                            <execution>
                                <!-- we can't override this id -->
                                <id>default-clean</id>
                                <phase>install</phase>
                                <goals>
                                    <goal>clean</goal>
                                </goals>
                                <configuration>
                                    <excludeDefaultDirectories>true</excludeDefaultDirectories>
                                    <filesets>
                                        <fileset>
                                            <directory>${project.build.directory}</directory>
                                            <excludes>
                                                <exclude>${assembly.finalName}.tar.gz</exclude>
                                            </excludes>
                                        </fileset>
                                    </filesets>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
    </profiles>
</project>
