<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">

    <modelVersion>4.0.0</modelVersion>

    <!-- =======================================================================
    = PARENT
    ======================================================================== -->
    <parent>
        <groupId>ch.vd.devsupport</groupId>
        <artifactId>vd-dependencies</artifactId>
        <version>1.5.1</version>
    </parent>

    <!-- =======================================================================
    = PROJECT
    ======================================================================== -->
    <groupId>ch.vd.education.cofop</groupId>
    <artifactId>cofop</artifactId>
    <name>COFOP</name>
    <packaging>pom</packaging>
    <version>1.0.0-SNAPSHOT</version>

    <url>https://dgnsiwiki.etat-de-vaud.ch/outils/dgnsiwiki/display/GISFP/EPIC+-+COFOP+-+Gestion+administrative</url>
    <issueManagement>
        <system>jira</system>
        <url>https://issuetracker.etat-de-vaud.ch/outils/issuetracker/browse/EDUFORREAL-72</url>
    </issueManagement>

    <scm>
        <connection>${scm.connexion}</connection>
        <developerConnection>${scm.connexion}</developerConnection>
        <url>${scm.url}</url>
        <tag>HEAD</tag>
    </scm>

    <!-- =======================================================================
    = PROPERTIES
    ======================================================================== -->
    <properties>
        <deployUnit>cofop</deployUnit>
        <scm.connexion>scm:git:ssh://git@bitbucket.etat-de-vaud.ch/education/cofop.git</scm.connexion>
        <scm.url>https://dsigit.etat-de-vaud.ch/outils/git/projects/EDUCATION/repos/cofop/browse</scm.url>

        <!--:: FACETES :::::::::::::::::::::::::::::::::::::::::::::::::::: -->
        <maven.deploy.skip>false</maven.deploy.skip>
        <java.version>17</java.version>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <project.reporting.outputEncoding>${project.build.sourceEncoding}</project.reporting.outputEncoding>
        <super.springboot.skip>true</super.springboot.skip>
        <super.frontend.build.enabled>false</super.frontend.build.enabled>
        <super.querydsl.enabled>false</super.querydsl.enabled>
        <super.test.mutation/>
        <super.deploy.enabled/>
        <deploy-maven-plugin.phase>deploy</deploy-maven-plugin.phase>
        <super.owasp.enabled>false</super.owasp.enabled>
        <super.owasp.false.positive.file>${project.basedir}/owasp-false-positive.xml</super.owasp.false.positive.file>
        <super.pitest.enabled>false</super.pitest.enabled>
        <super.assembly.enabled>false</super.assembly.enabled>
        <super.bdd.test>false</super.bdd.test>
        <super.bdd.test.json.source.directory>${project.build.directory}/cucumber-reports</super.bdd.test.json.source.directory>
        <super.bdd.test.report.directory>${project.build.directory}/generated-report</super.bdd.test.report.directory>

        <inugami.maven.plugin.analysis.project.base.name>ch.vd.education.cofop</inugami.maven.plugin.analysis.project.base.name>
        <inugami.maven.plugin.analysis.writer.neo4j.url>bolt://localhost:7687</inugami.maven.plugin.analysis.writer.neo4j.url>
        <inugami.maven.plugin.analysis.writer.neo4j.user>neo4j</inugami.maven.plugin.analysis.writer.neo4j.user>
        <inugami.maven.plugin.analysis.writer.neo4j.password>password</inugami.maven.plugin.analysis.writer.neo4j.password>
        <inugami.maven.plugin.analysis.git>true</inugami.maven.plugin.analysis.git>
        <inugami.maven.plugin.analysis.display.release.note.enabled>false</inugami.maven.plugin.analysis.display.release.note.enabled>

        <sonar.exclusion>
        </sonar.exclusion>
        <sonar.coverage.exclusions>
        </sonar.coverage.exclusions>
        <sonar.cpd.exclusions>
        </sonar.cpd.exclusions>

        <!--:: DEVEX :::::::::::::::::::::::::::::::::::::::::::::::::::: -->
        <xfile.group>EDU</xfile.group>
        <xfile.url>http://outils-xweb-ws.etat-de-vaud.ch/outils/xweb/api</xfile.url>
        <super.xfile.enabled>false</super.xfile.enabled>
        <devex-maven-plugin.deployUnit>${deployUnit}</devex-maven-plugin.deployUnit>
        <devex-maven-plugin.configTag>master</devex-maven-plugin.configTag>
        <devex-maven-plugin.deployTarget>EMBEDDED</devex-maven-plugin.deployTarget>
        <assembly.finalName>${deployUnit}-${project.version}</assembly.finalName>
        <super.devex.enabled>false</super.devex.enabled>

        <!--:: VERSIONS :::::::::::::::::::::::::::::::::::::::::::::::::::: -->
        <vd-spring-boot-starter.version>1.5.1</vd-spring-boot-starter.version>
        <devex-maven-plugin.version>1.1.2</devex-maven-plugin.version>
        <cei-maven-plugin.version>1.1.0</cei-maven-plugin.version>
        <checkstyle.version>10.10.0</checkstyle.version>
        <ch.vd.education.metedu-shared-xsd.version>1.0.1</ch.vd.education.metedu-shared-xsd.version>

        <com.github.tomakehurst.version>2.35.0</com.github.tomakehurst.version>
        <com.github.spullara.mustache.java.version>0.9.10</com.github.spullara.mustache.java.version>
        <!-- jackson version depend on wiremock included jackson version-->
        <com.fasterxml.jackson.version>2.13.4.20221013</com.fasterxml.jackson.version>
        <com.h2database.version>2.1.214</com.h2database.version>
        <com.oracle.database.jdbc.version>19.11.0.0</com.oracle.database.jdbc.version>
        <com.querydsl.version>5.0.0</com.querydsl.version>
        <commons-fileupload.version>1.5</commons-fileupload.version>

        <exec-maven-plugin.version>3.1.0</exec-maven-plugin.version>

        <io.cucumber.version>7.11.2</io.cucumber.version>
        <io.dropwizard.metrics.version>4.2.18</io.dropwizard.metrics.version>
        <io.inugami.version>3.2.4</io.inugami.version>
        <io.inugami.maven.plugin.analysis.version>3.2.5</io.inugami.maven.plugin.analysis.version>
        <io.inugami.maven.plugin.lifecycle.version>2.0.1</io.inugami.maven.plugin.lifecycle.version>
        <io.github.git-commit-id.version>5.0.0</io.github.git-commit-id.version>
        <io.micrometer.version>1.11.0</io.micrometer.version>
        <io.projectreactor.netty.version>0.9.25.RELEASE</io.projectreactor.netty.version>
        <io.swagger.core.v3.version>2.1.12</io.swagger.core.v3.version>
        <io.rest-assured.version>4.2.0</io.rest-assured.version>

        <jakarta.persistence.version>2.2.3</jakarta.persistence.version>
        <javax.annotation.version>1.3.2</javax.annotation.version>
        <javax.cache.version>1.1.1</javax.cache.version>
        <javax.persistence.version>2.2</javax.persistence.version>
        <javax.xml.bind.version>2.3.1</javax.xml.bind.version>

        <maven-compiler-plugin.version>3.8.1</maven-compiler-plugin.version>
        <maven-checkstyle-plugin.version>3.2.2</maven-checkstyle-plugin.version>
        <maven-checkstyle-plugin.configLocation>../checkstyle-rules.xml</maven-checkstyle-plugin.configLocation>
        <maven-checkstyle-plugin.enabled>false</maven-checkstyle-plugin.enabled>
        <net.logstash.logback.version>7.3</net.logstash.logback.version>
        <org.codehaus.mojo.exec-maven-plugin.version>3.1.0</org.codehaus.mojo.exec-maven-plugin.version>
        <org.apache.maven.plugins.maven-assembly-plugin.version>3.5.0</org.apache.maven.plugins.maven-assembly-plugin.version>
        <org.apache.geronimo.specs.version>1.1.1</org.apache.geronimo.specs.version>
        <org.apache.maven.plugins.maven-source-plugin>3.2.1</org.apache.maven.plugins.maven-source-plugin>
        <org.apache.maven.plugins.maven-jar-plugin>3.3.0</org.apache.maven.plugins.maven-jar-plugin>
        <org.assertj.version>3.24.2</org.assertj.version>
        <org.codehaus.mojo.version>3.3.0</org.codehaus.mojo.version>
        <org.codehaus.mojo.jaxb2-maven-plugin.version>2.5.0</org.codehaus.mojo.jaxb2-maven-plugin.version>
        <org.eclipse.jetty.version>9.4.51.v20230217</org.eclipse.jetty.version>
        <org.ehcache.version>3.10.8</org.ehcache.version>
        <org.hibernate.hibernate-envers.version>5.6.15.Final</org.hibernate.hibernate-envers.version>
        <org.junit.jupiter.version>5.8.2</org.junit.jupiter.version>
        <org.glassfish.jaxb.version>4.0.2</org.glassfish.jaxb.version>
        <org.liquibase.version>4.20.0</org.liquibase.version>
        <org.mapstruct.version>1.5.5.Final</org.mapstruct.version>
        <org.mapstruct.extensions.spring.version>1.0.0</org.mapstruct.extensions.spring.version>

        <org.owasp.version>8.1.2</org.owasp.version>
        <org.owasp.level>10</org.owasp.level>
        <org.pitest.version>1.11.7</org.pitest.version>
        <org.pitest.pitest-junit5-plugin.version>1.1.2</org.pitest.pitest-junit5-plugin.version>
        <org.projectlombok.lombok-mapstruct-binding.version>0.2.0</org.projectlombok.lombok-mapstruct-binding.version>
        <org.projectlombok.version>1.18.26</org.projectlombok.version>
        <org.slf4j.version>1.7.36</org.slf4j.version>
        <org.springframework.cloud.version>2021.0.6</org.springframework.cloud.version>
        <org.springframework.cloud.pring-cloud-starter-contract-stub-runner.version>4.0.1</org.springframework.cloud.pring-cloud-starter-contract-stub-runner.version>
        <org.springframework.restdocs.version>2.0.7.RELEASE</org.springframework.restdocs.version>
        <org.yaml.snakeyaml.version>2.0</org.yaml.snakeyaml.version>
        <org.zalando.problem.version>0.27.1</org.zalando.problem.version>
    </properties>

    <!-- =======================================================================
    = MODULES
    ======================================================================== -->
    <modules>
        <module>cofop-api</module>
        <module>cofop-commons</module>
        <module>cofop-core</module>
        <module>cofop-infrastructure</module>
        <module>cofop-interfaces</module>
        <module>cofop-front</module>
        <module>cofop-webapp</module>
    </modules>

    <!-- =======================================================================
    = DEPENDENCIES MANAGEMENT
    ======================================================================== -->
    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>ch.vd.education.cofop</groupId>
                <artifactId>cofop-api</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>ch.vd.education.cofop</groupId>
                <artifactId>cofop-commons</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>ch.vd.education.cofop</groupId>
                <artifactId>cofop-core</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>ch.vd.education.cofop</groupId>
                <artifactId>cofop-infrastructure</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>ch.vd.education.cofop</groupId>
                <artifactId>cofop-interface</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>ch.vd.education.cofop</groupId>
                <artifactId>cofop-front</artifactId>
                <version>${project.version}</version>
            </dependency>
            <dependency>
                <groupId>ch.vd.education.cofop</groupId>
                <artifactId>cofop-webapp</artifactId>
                <version>${project.version}</version>
            </dependency>

            <dependency>
                <groupId>org.mapstruct</groupId>
                <artifactId>mapstruct</artifactId>
                <version>${org.mapstruct.version}</version>
            </dependency>
            <dependency>
                <groupId>org.mapstruct.extensions.spring</groupId>
                <artifactId>mapstruct-spring-annotations</artifactId>
                <version>${org.mapstruct.extensions.spring.version}</version>
            </dependency>

            <dependency>
                <groupId>ch.vd.devsupport</groupId>
                <artifactId>vd-spring-boot-starter</artifactId>
                <version>${vd-spring-boot-starter.version}</version>
            </dependency>
        </dependencies>
    </dependencyManagement>

    <!-- =======================================================================
    = DEPENDENCIES
    ======================================================================== -->
    <dependencies>
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
        </dependency>
        <dependency>
            <groupId>org.mapstruct</groupId>
            <artifactId>mapstruct</artifactId>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
        </dependency>
    </dependencies>

    <!-- =======================================================================
    = BUILD
    ======================================================================== -->
    <build>
        <resources>
            <resource>
                <directory>src/main/resources</directory>
                <filtering>true</filtering>
            </resource>
        </resources>
        <testResources>
            <testResource>
                <directory>src/test/resources</directory>
                <filtering>true</filtering>
            </testResource>
            <testResource>
                <directory>src/test_it/resources</directory>
                <filtering>true</filtering>
            </testResource>
        </testResources>

        <pluginManagement>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-release-plugin</artifactId>
                    <version>${maven-release-plugin.version}</version>
                    <configuration>
                        <goals>${release.goals}</goals>
                        <releaseProfiles>${release.profiles}</releaseProfiles>
                        <tagNameFormat>@{project.version}</tagNameFormat>
                        <pushChanges>${release.pushChanges}</pushChanges>
                        <localCheckout>true</localCheckout>
                        <autoVersionSubmodules>true</autoVersionSubmodules>
                    </configuration>
                </plugin>

                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-source-plugin</artifactId>
                    <executions>
                        <execution>
                            <id>attach-sources</id>
                            <goals>
                                <goal>jar-no-fork</goal>
                            </goals>
                            <phase>verify</phase>
                        </execution>
                    </executions>
                </plugin>
                <plugin>
                    <groupId>cei.aew.web</groupId>
                    <artifactId>cei-maven-plugin</artifactId>
                    <version>${cei-maven-plugin.version}</version>
                </plugin>
                <plugin>
                    <groupId>ch.vd.devex</groupId>
                    <artifactId>devex-maven-plugin</artifactId>
                    <version>${devex-maven-plugin.version}</version>
                    <configuration>
                        <configTag>${devex-maven-plugin.configTag}</configTag>
                        <releaseVersion>${devex-maven-plugin.releaseVersion}</releaseVersion>
                        <deployUnit>${devex-maven-plugin.deployUnit}</deployUnit>
                        <deployTarget>${devex-maven-plugin.deployTarget}</deployTarget>
                        <warProjectOnly>${devex-maven-plugin.warProjectOnly}</warProjectOnly>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-checkstyle-plugin</artifactId>
                    <version>${maven-checkstyle-plugin.version}</version>
                    <executions>
                        <execution>
                            <id>validate</id>
                            <phase>${maven-checkstyle-plugin.enabled}validate</phase>
                            <configuration>
                                <skip>${skipTests}</skip>
                                <configLocation>${maven-checkstyle-plugin.configLocation}</configLocation>
                                <consoleOutput>true</consoleOutput>
                                <failsOnError>true</failsOnError>
                            </configuration>
                            <goals>
                                <goal>check</goal>
                            </goals>
                        </execution>
                    </executions>
                    <dependencies>
                        <dependency>
                            <groupId>com.puppycrawl.tools</groupId>
                            <artifactId>checkstyle</artifactId>
                            <version>${checkstyle.version}</version>
                        </dependency>
                    </dependencies>
                </plugin>
            </plugins>
        </pluginManagement>

        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-failsafe-plugin</artifactId>
                <executions>
                    <execution>
                        <id>integration-test</id>
                        <goals>
                            <goal>integration-test</goal>
                        </goals>
                    </execution>
                    <execution>
                        <id>verify</id>
                        <goals>
                            <goal>verify</goal>
                        </goals>
                    </execution>
                </executions>
                <configuration>
                    <includes>
                        <include>**/*IT.java</include>
                    </includes>
                </configuration>
            </plugin>
            <plugin>
                <groupId>io.github.git-commit-id</groupId>
                <artifactId>git-commit-id-maven-plugin</artifactId>
                <version>${io.github.git-commit-id.version}</version>
                <executions>
                    <execution>
                        <id>get-the-git-infos</id>
                        <goals>
                            <goal>revision</goal>
                        </goals>
                        <phase>initialize</phase>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.owasp</groupId>
                <artifactId>dependency-check-maven</artifactId>
                <version>${org.owasp.version}</version>
                <configuration>
                    <failBuildOnCVSS>${org.owasp.level}</failBuildOnCVSS>
                </configuration>
                <executions>
                    <execution>
                        <phase>${super.owasp.enabled}verify</phase>
                        <goals>
                            <goal>aggregate</goal>
                        </goals>
                        <configuration>
                            <skipRuntimeScope>true</skipRuntimeScope>
                            <skipSystemScope>true</skipSystemScope>
                            <skipDependencyManagement>true</skipDependencyManagement>
                            <suppressionFiles>
                                <file>${super.owasp.false.positive.file}</file>
                            </suppressionFiles>

                            <formats>
                                <format>json</format>
                                <format>html</format>
                            </formats>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>${maven-compiler-plugin.version}</version>
                <configuration>
                    <source>${java.version}</source>
                    <target>${java.version}</target>
                    <showDeprecation>true</showDeprecation>
                    <encoding>${project.build.sourceEncoding}</encoding>
                    <annotationProcessorPaths>
                        <path>
                            <groupId>org.mapstruct</groupId>
                            <artifactId>mapstruct-processor</artifactId>
                            <version>${org.mapstruct.version}</version>
                        </path>
                        <path>
                            <groupId>org.projectlombok</groupId>
                            <artifactId>lombok</artifactId>
                            <version>${org.projectlombok.version}</version>
                        </path>
                        <path>
                            <groupId>com.querydsl</groupId>
                            <artifactId>querydsl-apt</artifactId>
                            <version>${com.querydsl.version}</version>
                            <classifier>jpa</classifier>
                        </path>
                        <path>
                            <groupId>jakarta.persistence</groupId>
                            <artifactId>jakarta.persistence-api</artifactId>
                            <version>${jakarta.persistence.version}</version>
                        </path>
                        <path>
                            <groupId>javax.annotation</groupId>
                            <artifactId>javax.annotation-api</artifactId>
                            <version>${javax.annotation.version}</version>
                        </path>
                        <dependency>
                            <groupId>org.projectlombok</groupId>
                            <artifactId>lombok-mapstruct-binding</artifactId>
                            <version>${org.projectlombok.lombok-mapstruct-binding.version}</version>
                        </dependency>
                    </annotationProcessorPaths>
                </configuration>
            </plugin>
            <plugin>
                <artifactId>maven-jar-plugin</artifactId>
                <version>${org.apache.maven.plugins.maven-jar-plugin}</version>
                <configuration>
                    <archive>
                        <manifest>
                            <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
                            <addDefaultSpecificationEntries>true</addDefaultSpecificationEntries>
                            <addClasspath>true</addClasspath>
                            <classpathLayoutType>repository</classpathLayoutType>
                        </manifest>

                        <manifestEntries>
                            <Implementation-Group>${project.groupId}</Implementation-Group>
                            <Implementation-Module>${project.artifactId}</Implementation-Module>
                            <Implementation-Encoding>${project.build.sourceEncoding}</Implementation-Encoding>

                            <!-- Source info generated by git-commit-id-plugin -->
                            <Implementation-Sources-Tags>${git.tags}</Implementation-Sources-Tags>
                            <Implementation-Sources-Commit-Id>${git.commit.id}</Implementation-Sources-Commit-Id>
                            <Implementation-Sources-Commit-Date>${git.commit.time}
                            </Implementation-Sources-Commit-Date>
                            <Implementation-Sources-Commit-Author>
                                ${git.commit.user.name}(${git.commit.user.email})
                            </Implementation-Sources-Commit-Author>
                            <Implementation-Sources-Commit-Message>${git.commit.message.short}
                            </Implementation-Sources-Commit-Message>
                            <Implementation-Sources-Branch>${git.branch}</Implementation-Sources-Branch>
                            <Implementation-Sources-Describe>${git.commit.id.describe-short}
                            </Implementation-Sources-Describe>

                            <Built-On-OS>${os.name} (${os.version} / ${os.arch})</Built-On-OS>
                            <Built-On-Host>${git.build.host}</Built-On-Host>
                            <Build-Jdk-Details>${java.version} (${java.vendor})</Build-Jdk-Details>
                            <!-- Timestamp generated by buildnumber-maven-plugin -->
                            <Build-Date>${timestamp}</Build-Date>
                        </manifestEntries>
                    </archive>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-source-plugin</artifactId>
                <version>3.2.1</version>
                <executions>
                    <execution>
                        <id>attach-sources</id>
                        <phase>verify</phase>
                        <goals>
                            <goal>jar</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>io.inugami.maven.plugin.lifecycle</groupId>
                <artifactId>inugami-maven-lifecycle</artifactId>
                <version>2.0.1</version>
                <extensions>true</extensions>
            </plugin>
            <plugin>
                <groupId>org.pitest</groupId>
                <artifactId>pitest-maven</artifactId>
                <version>${org.pitest.version}</version>
                <executions>
                    <execution>
                        <phase>${super.pitest.enabled}deep-test</phase>
                        <goals>
                            <goal>mutationCoverage</goal>
                        </goals>
                    </execution>
                </executions>
                <configuration>
                    <verbose>true</verbose>
                    <targetClasses>
                        <param>ch.vd.education.*</param>
                    </targetClasses>
                    <targetTests>
                        <param>ch.vd.education.*</param>
                    </targetTests>
                    <avoidCallsTo>
                        <avoidCallsTo>org.slf4j</avoidCallsTo>
                        <avoidCallsTo>org.springframework</avoidCallsTo>
                        <avoidCallsTo>com.querydsl</avoidCallsTo>
                    </avoidCallsTo>
                    <excludedClasses>
                        <excludedTestClass>**.Q*Entity</excludedTestClass>
                        <excludedTestClass>**.Q*Entity.java</excludedTestClass>
                        <excludedTestClass>**.*Application.java</excludedTestClass>
                    </excludedClasses>
                    <excludedTestClasses>
                        <excludedTestClass>**.*IT</excludedTestClass>
                        <excludedTestClass>**.*IT.java</excludedTestClass>
                        <excludedTestClass>**.*Application.java</excludedTestClass>
                        <excludedTestClass>**.test_it.**</excludedTestClass>
                    </excludedTestClasses>
                    <threads>5</threads>

                    <mutators>
                        <mutator>ALL</mutator>
                    </mutators>

                    <excludedMethods>
                        <param>toString</param>
                        <param>canEqual</param>
                        <param>hashCode</param>
                    </excludedMethods>
                </configuration>

                <dependencies>
                    <dependency>
                        <groupId>org.pitest</groupId>
                        <artifactId>pitest</artifactId>
                        <version>${org.pitest.version}</version>
                    </dependency>
                    <dependency>
                        <groupId>org.pitest</groupId>
                        <artifactId>pitest-junit5-plugin</artifactId>
                        <version>${org.pitest.pitest-junit5-plugin.version}</version>
                    </dependency>
                    <dependency>
                        <groupId>org.junit.jupiter</groupId>
                        <artifactId>junit-jupiter-engine</artifactId>
                        <version>${org.junit.jupiter.version}</version>
                    </dependency>
                </dependencies>
            </plugin>
            <plugin>
                <groupId>com.trivago.rta</groupId>
                <artifactId>cluecumber-maven</artifactId>
                <version>3.1.0</version>
                <executions>
                    <execution>
                        <id>report</id>
                        <phase>${super.bdd.test}verify</phase>
                        <goals>
                            <goal>reporting</goal>
                        </goals>
                    </execution>
                </executions>
                <configuration>
                    <sourceJsonReportDirectory>${super.bdd.test.json.source.directory}</sourceJsonReportDirectory>
                    <generatedHtmlReportDirectory>${super.bdd.test.report.directory}</generatedHtmlReportDirectory>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.jacoco</groupId>
                <artifactId>jacoco-maven-plugin</artifactId>
                <version>0.8.10</version>
                <configuration>
                    <excludes>
                        <exclude>**/*DTOBuilder*</exclude>
                        <exclude>**/*EntityBuilder*</exclude>
                        <exclude>**/*Property.java</exclude>
                        <exclude>**/*Constants.java</exclude>
                        <exclude>**/*ScheduledLogJsonReporterProperty*</exclude>
                        <exclude>**/*CacheConfiguration.java</exclude>
                        <exclude>**/*Builder.java</exclude>
                        <exclude>**/Q*Entity.java</exclude>
                    </excludes>
                </configuration>
                <executions>
                    <execution>
                        <id>prepare-agent</id>
                        <goals>
                            <goal>prepare-agent</goal>
                        </goals>
                        <phase>test-compile</phase>
                    </execution>
                    <execution>
                        <id>report</id>
                        <goals>
                            <goal>report</goal>
                        </goals>
                        <phase>post-integration-test</phase>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>io.inugami.maven.plugin.analysis</groupId>
                <artifactId>inugami-project-analysis-maven-plugin</artifactId>
                <extensions>true</extensions>
                <version>${io.inugami.maven.plugin.analysis.version}</version>
                <executions>
                    <execution>
                        <id>check</id>
                        <phase>analyze</phase>
                        <goals>
                            <goal>check</goal>
                        </goals>
                    </execution>
                    <execution>
                        <id>info</id>
                        <phase>info</phase>
                        <goals>
                            <goal>retrieveInformation</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>build-helper-maven-plugin</artifactId>
                <version>${org.codehaus.mojo.version}</version>
                <executions>
                    <execution>
                        <id>add-integration-test-source-as-test-sources</id>
                        <phase>generate-test-sources</phase>
                        <goals>
                            <goal>add-test-source</goal>
                        </goals>
                        <configuration>
                            <sources>
                                <source>src/test_it/java</source>
                            </sources>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
                <executions>
                    <execution>
                        <id>repackage</id>
                        <goals>
                            <goal>repackage</goal>
                        </goals>
                        <configuration>
                            <skip>${super.springboot.skip}</skip>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-deploy-plugin</artifactId>
                <executions>
                    <execution>
                        <id>default-deploy</id>
                        <phase>${super.deploy.enabled}${deploy-maven-plugin.phase}</phase>
                        <goals>
                            <goal>deploy</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>

    <!-- =======================================================================
    = PROFILES
    ======================================================================== -->
    <profiles>
        <profile>
            <id>not</id>
            <properties>
                <skipTests>true</skipTests>
            </properties>
        </profile>
        <profile>
            <id>no.snapshot</id>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-enforcer-plugin</artifactId>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>owasp-dependency-check</id>
            <properties>
                <super.owasp.enabled/>
            </properties>
        </profile>
        <profile>
            <id>nof</id>
            <properties>
                <build.nofront>true</build.nofront>
                <skipTests>true</skipTests>
            </properties>
        </profile>
        <profile>
            <id>assembly</id>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-assembly-plugin</artifactId>
                        <executions>
                            <execution>
                                <phase>${super.assembly.enabled}package</phase>
                                <goals>
                                    <goal>single</goal>
                                </goals>
                            </execution>
                        </executions>
                        <configuration>
                            <finalName>${assembly.finalName}</finalName>
                            <descriptors>
                                <descriptor>assembly.xml</descriptor>
                            </descriptors>
                            <appendAssemblyId>false</appendAssemblyId>
                            <tarLongFileMode>posix</tarLongFileMode>
                        </configuration>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>xfile</id>
            <properties>
                <release.goals>clean verify</release.goals>
                <devex-maven-plugin.phase>package</devex-maven-plugin.phase>
                <deploy-maven-plugin.phase>verify</deploy-maven-plugin.phase>
            </properties>
            <build>
                <plugins>
                    <plugin>
                        <groupId>cei.aew.web</groupId>
                        <artifactId>cei-maven-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>upload</id>
                                <phase>${super.xfile.enabled}package</phase>
                                <goals>
                                    <goal>upload</goal>
                                </goals>
                                <configuration>
                                    <warprojectonly>${cei-maven-plugin.warprojectonly}</warprojectonly>
                                    <webresourceurl>${xfile.url}</webresourceurl>
                                    <filetoupload>${project.build.directory}/${assembly.finalName}.tar.gz</filetoupload>
                                    <from>${xfile.group}</from>
                                    <to>WEB</to>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>nexus</id>
            <properties>
                <release.goals>clean deploy</release.goals>
                <devex-maven-plugin.phase>deploy</devex-maven-plugin.phase>
            </properties>
            <distributionManagement>
                <repository>
                    <id>nexus-dgnsi-server</id>
                    <name>Nexus DGNSI</name>
                    <url>${nexus.url}/app-${application.repository}-stable</url>
                </repository>
                <snapshotRepository>
                    <id>nexus-dgnsi-server</id>
                    <name>Nexus DGNSI</name>
                    <url>${nexus.url}/app-${application.repository}-snapshots</url>
                    <uniqueVersion>false</uniqueVersion>
                </snapshotRepository>
            </distributionManagement>
        </profile>
        <profile>
            <id>docker</id>
            <properties>
                <assembly.finalName>${assembly.finalName}</assembly.finalName>
                <release.goals>clean verify</release.goals>
                <release.profiles>not</release.profiles>
            </properties>
        </profile>
        <profile>
            <id>devex.release</id>
            <build>
                <plugins>
                    <plugin>
                        <groupId>ch.vd.devex</groupId>
                        <artifactId>devex-maven-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>create</id>
                                <phase>${super.devex.enabled}${devex-maven-plugin.phase}</phase>
                                <goals>
                                    <goal>create-release</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>devex.in</id>
            <build>
                <plugins>
                    <plugin>
                        <groupId>ch.vd.devex</groupId>
                        <artifactId>devex-maven-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>deploy</id>
                                <phase>${super.devex.enabled}${devex-maven-plugin.phase}</phase>
                                <goals>
                                    <goal>deploy</goal>
                                </goals>
                                <configuration>
                                    <environment>IN</environment>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>platform-windows</id>
            <activation>
                <os>
                    <family>windows</family>
                </os>
            </activation>
            <properties>
                <node.packagemanager.executable>yarn.cmd</node.packagemanager.executable>
            </properties>
        </profile>
    </profiles>

</project>
